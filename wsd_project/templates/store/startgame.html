{% extends 'base.html' %}

{% block content %}
<head>
        <!--Load jquery and the event handler script-->
    {% load staticfiles %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <script src="{% static 'startgame.js' %}"></script>
    <!--<script>
            console.log("RUNNING SCRIPT FOR POST REQUEST")
            $.ajax({ type: "POST", url: "/library/startgame/1", data: {csrfmiddlewaretoken: '{{ csrf_token }}',}});
    </script> -->
</head>
<h4 id="lib-header">Game</h4>
<hr>
<p style="font-size: 200%; overflow-x:auto;">{{ game.name }}</p>

<!-- TO DO: make this modal IOS friendly-->
<div class="text-center">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Click here to launch</button>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-full" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="color: black;">{{game.name}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="close">
                    <span aria-hidden="true">x</span>
                </button>
            </div>
            <div class="modal-body p-4" id="result">
                <div class="embed-responsive embed-responsive-21by9">
                    <iframe class="embed-responsive-item" src="{{ game.link }}"><iframe>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script>
    $('#myModal').on('shown.bs.modal', function () {
    $('#myInput').trigger('focus')
    })
</script>
{% endblock %}
